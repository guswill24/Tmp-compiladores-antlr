name: Validar entorno de ANTLR en Codespaces

on:
  push:
  pull_request:

jobs:
  validar-entorno:
    name: Verificar instalaciÃ³n y funcionamiento de ANTLR4
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ Clonar repositorio
        uses: actions/checkout@v3

      - name: âš™ï¸ Verificar instalaciÃ³n de Java y Python
        run: |
          echo "âœ… Verificando que Java estÃ© instalado:"
          java -version
          echo "âœ… Verificando que Python estÃ© instalado:"
          python3 --version

      - name: ğŸ“¦ Descargar ANTLR 4.9.3
        run: |
          echo "â¬‡ï¸ Descargando ANTLR 4.9.3..."
          curl -O https://www.antlr.org/download/antlr-4.9.3-complete.jar
          echo "âœ… ANTLR descargado correctamente"

      - name: ğŸ§ª Probar funcionamiento bÃ¡sico de ANTLR
        run: |
          echo "ğŸ§ª Ejecutando ANTLR para mostrar el mensaje de ayuda:"
          java -jar antlr-4.9.3-complete.jar

      - name: ğŸ§° Probar compilaciÃ³n de una gramÃ¡tica mÃ­nima
        run: |
          echo "ğŸ“„ Creando una gramÃ¡tica de prueba llamada Mini.g4..."
          echo "grammar Mini; prog: ID EOF; ID: [a-z]+;" > Mini.g4

          echo "âš™ï¸ Compilando la gramÃ¡tica con ANTLR..."
          java -jar antlr-4.9.3-complete.jar Mini.g4

          echo "âœ… GramÃ¡tica compilada exitosamente. Â¡ANTLR estÃ¡ listo para usarse!"

